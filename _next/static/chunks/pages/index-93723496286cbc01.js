(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(a,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3995)}])},3995:function(a,e,n){"use strict";n.r(e),n.d(e,{default:function(){return w}});var t=n(5893),s=n(7414),l=n(6894),c=n(6137),i=n(264),r=n(6801);let[o,u,p]=(0,r.W)();var d=n(1150);let x=(a,e)=>{let n=a.getInputProps(e);return n.value=0===n.value?"":n.value,n},h=a=>{let{index:e}=a,n=u();return(0,t.jsxs)(s.x,{children:[(0,t.jsx)(d.o,{label:"商品".concat(e,"の価格"),withAsterisk:!0,inputMode:"numeric",rightSection:"円",...x(n,"price".concat(e))}),(0,t.jsx)(d.o,{label:"容量(g,m,個,枚)",withAsterisk:!0,inputMode:"numeric",...x(n,"capacity".concat(e))}),(0,t.jsx)(d.o,{label:"パック数(任意)",inputMode:"numeric",...x(n,"count".concat(e)),styles:a=>({label:{fontWeight:"normal"}})})]})};var j=n(5762);let v=(a,e)=>Math.ceil(a*Math.pow(10,e))/Math.pow(10,e);var f=n(6817),k=n(3523),m=n(5117);let A=(0,f.k)(a=>({circle:{width:"80px",height:"80px",borderRadius:"50%",background:"red",display:"flex",alignItems:"center",justifyContent:"center",marginTop:a.spacing.md,marginBottom:a.spacing.md},string:{fontSize:"50px",color:"white",transform:"rotate(-13deg)",fontWeight:"bold"}})),B=a=>{let{diff:e,tanka:n}=a,{classes:l}=A();return(0,t.jsxs)(s.x,{children:[(0,t.jsxs)(k.M,{fz:"24px",children:["@",(0,t.jsx)(m.x,{component:"span",fw:"bold",children:n})]}),(0,t.jsx)(k.M,{children:(0,t.jsx)(s.x,{className:l.circle,children:(0,t.jsx)("span",{className:l.string,children:"得"})})}),(0,t.jsxs)("span",{children:["こっちのほうが",(0,t.jsxs)(m.x,{component:"span",fw:"bold",children:[e,"円"]}),"お得!"]})]})},g=a=>{let{diff:e,tanka:n}=a;return(0,t.jsxs)(k.M,{fz:"24px",children:["@",(0,t.jsx)(m.x,{component:"span",fw:"bold",children:n})]})},b=()=>{let a=p({initialValues:{priceA:849,priceB:3762,capacityA:200,capacityB:160,countA:5,countB:60,tankaA:0,tankaB:0},validate:{priceA:(0,j.U)(),priceB:(0,j.U)(),capacityA:(0,j.U)(),capacityB:(0,j.U)()}}),e=()=>{console.log(a.values);let e=a.values.priceA/a.values.capacityA/a.values.countA,n=a.values.priceB/a.values.capacityB/a.values.countB;a.setValues({tankaA:v(e,1),tankaB:v(n,1)})},n=()=>{let e=Math.max(a.values.capacityA*a.values.countA,a.values.capacityB*a.values.countB);return"A"===r()?v(a.values.tankaB-a.values.tankaA,1)*e:v(a.values.tankaA-a.values.tankaB,1)*e},r=()=>0===a.values.tankaA&&0===a.values.tankaB?"":a.values.tankaA<a.values.tankaB?"A":"B";return(0,t.jsx)(o,{form:a,children:(0,t.jsxs)(s.x,{component:"form",maw:400,mx:"auto",onSubmit:a.onSubmit(()=>{e()}),children:[(0,t.jsxs)(l.r,{children:[(0,t.jsx)(l.r.Col,{span:6,children:(0,t.jsx)(h,{index:"A"})}),(0,t.jsx)(l.r.Col,{span:6,children:(0,t.jsx)(h,{index:"B"})})]}),(0,t.jsxs)(c.Z,{position:"right",children:[(0,t.jsx)(i.z,{type:"submit",children:"計算!"}),(0,t.jsx)(i.z,{type:"button",color:"gray",onClick:()=>{a.reset(),a.clearErrors()},children:"クリア"})]}),(0,t.jsxs)(l.r,{children:[(0,t.jsxs)(l.r.Col,{span:6,children:["A"===r()&&(0,t.jsx)(B,{diff:n(),tanka:a.values.tankaA}),"B"===r()&&(0,t.jsx)(g,{diff:n(),tanka:a.values.tankaA})]}),(0,t.jsxs)(l.r.Col,{span:6,children:["B"===r()&&(0,t.jsx)(B,{diff:n(),tanka:a.values.tankaB}),"A"===r()&&(0,t.jsx)(g,{diff:n(),tanka:a.values.tankaB})]})]})]})})};var w=()=>(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(b,{})})}},function(a){a.O(0,[646,774,888,179],function(){return a(a.s=8312)}),_N_E=a.O()}]);